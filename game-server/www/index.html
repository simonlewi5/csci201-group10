<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Egyptian Rat Screw</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alegreya+Sans+SC:ital,wght@0,100;0,300;0,400;0,500;0,700;0,800;0,900;1,100;1,300;1,400;1,500;1,700;1,800;1,900&family=Alegreya+Sans:ital,wght@0,100;0,300;0,400;0,500;0,700;0,800;0,900;1,100;1,300;1,400;1,500;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/style.css">
    <script>
        function requestSignedURL(file, buttonId) {
            const xhr = new XMLHttpRequest();
            xhr.open('GET', '/get_signed_url?file=' + file);
            xhr.onload = function() {
                if (xhr.status === 200) {
                    const downloadLink = document.getElementById(buttonId);
                    downloadLink.href = xhr.responseText;
                    downloadLink.download = file.split('/').pop();
                    downloadLink.click();
                } else {
                    console.error('Failed to retrieve signed URL');
                }
            };
            xhr.send();
        }
            </script>
</head>
<body>
    <img src="img/egypt.png" alt="Egyptian Rat Screw Background" id="background-image">
    <div class="container">
        <h1>EGYPTIAN RAT SCREW</h1>
        <h2>The 5000 year old card game</h2>
        <h3>Coming soon to the world wide web</h3>
        <h3>brought to you by nitya</h3>
    </div>
    <div class="container">
        <a id="download-windows">
            <button onclick="requestSignedURL('game-dl/windows/', 'download-windows')">Download for Windows</button>
        </a>
        <a id="download-mac">
            <button onclick="requestSignedURL('game-dl/mac/Egyptian\ Ratscrew-1.0.dmg', 'download-mac')">Download for macOS</button>
        </a>
        <a id="download-linux">
            <button onclick="requestSignedURL('game-dl/linux/egyptian-ratscrew_1.0_amd64.deb', 'download-linux')">Download for Ubuntu</button>
        </a>
    </div>
</body>
</html>